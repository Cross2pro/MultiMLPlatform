(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8483:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var l=s(5155),a=s(2115);let i=e=>{let{models:t,selectedModel:s,onSelectModel:a}=e;return(0,l.jsxs)("div",{className:"w-full p-4 bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"选择预测模型"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg cursor-pointer transition-all duration-300 ".concat(s===(0===t?"randomForest":"optimalNN")?"bg-blue-50 border-blue-500 shadow-md":"border-gray-200 hover:border-blue-300"),onClick:()=>a(0===t?"randomForest":"optimalNN"),children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.name}),(0,l.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,l.jsxs)("p",{children:["准确率: ",(0,l.jsxs)("span",{className:"font-medium",children:[(100*e.accuracy).toFixed(1),"%"]})]}),(0,l.jsxs)("p",{children:["平均预测时间: ",(0,l.jsxs)("span",{className:"font-medium",children:[e.predictTime,"ms"]})]})]})]},t))})]})},r=e=>{let{onSubmit:t,isLoading:s}=e,i=[{title:"Configuration Parameters",fields:[{id:"joint_type",label:"Joint Type (Jt)",description:"1=干接缝，2=环氧树脂接缝，3=湿接缝，4=整体浇筑接缝",type:"select",options:[{value:1,label:"Dry Joint"},{value:2,label:"Epoxy Joint"},{value:3,label:"Wet Joint"},{value:4,label:"Monolithic Joint"}],defaultValue:1},{id:"specimen_type",label:"Specimen Type (St)",description:"1=单接缝(SJ)，2=双接缝(DJ)",type:"select",options:[{value:1,label:"Single Joint (SJ)"},{value:2,label:"Double Joint (DJ)"}],defaultValue:1},{id:"key_number",label:"Number of Keys (Nk)",description:"接缝中键槽的数量",type:"number",defaultValue:1,min:0,step:1}]},{title:"Geometric Parameters",fields:[{id:"key_width",label:"Key Width (Bk)",description:"单个键槽的宽度",type:"number",defaultValue:35,step:.1,min:0},{id:"key_root_height",label:"Key Root Height (Hk)",description:"单个键槽根部的高度",type:"number",defaultValue:50,step:.1,min:0},{id:"key_depth",label:"Key Depth (Dk)",description:"单个键槽的深度",type:"number",defaultValue:25,step:.1,min:0},{id:"key_inclination",label:"Key Inclination (theta_k)",description:"单个键槽的倾斜角度",type:"number",defaultValue:34.5,step:.1},{id:"key_spacing",label:"Key Spacing (Sk)",description:"相邻键槽之间的距离",type:"number",defaultValue:50,step:.1,min:0},{id:"key_front_height",label:"Key Front Height (hk)",description:"单个键槽前部的高度",type:"number",defaultValue:25,step:.1,min:0},{id:"key_depth_height_ratio",label:"Key Depth-Height Ratio (Dk/Hk)",description:"键槽深度与高度的比值",type:"number",defaultValue:.5,step:.01,min:0},{id:"joint_width",label:"Joint Width (Bj)",description:"接缝的总宽度",type:"number",defaultValue:200,step:.1,min:0},{id:"joint_height",label:"Joint Height (Hj)",description:"接缝的总高度",type:"number",defaultValue:200,step:.1,min:0},{id:"key_area",label:"Key Area (Ak)",description:"接缝中键槽区域的总面积",type:"number",defaultValue:17500,step:.1,min:0},{id:"joint_area",label:"Joint Area (Aj)",description:"接缝的总面积",type:"number",defaultValue:4e4,step:.1,min:0},{id:"flat_region_area",label:"Flat Region Area (Asm)",description:"接缝中平坦区域的面积",type:"number",defaultValue:38250,step:.1,min:0},{id:"key_joint_area_ratio",label:"Key-Joint Area Ratio (Ak/Aj)",description:"键槽面积与接缝面积的比值",type:"number",defaultValue:.04,step:.01,min:0}]},{title:"UHPC Material Properties",fields:[{id:"compressive_strength",label:"Compressive Strength (fc)",description:"UHPC材料的抗压强度",type:"number",defaultValue:193,step:.1,min:0},{id:"fiber_type",label:"Fiber Type (Ft)",description:"0=无纤维，1=直纤维，2=混合纤维(直纤维和端钩纤维)，3=端钩纤维",type:"select",options:[{value:0,label:"No Fiber"},{value:1,label:"Straight Fiber"},{value:2,label:"Mixed Fiber (Straight and Hooked)"},{value:3,label:"Hooked Fiber"}],defaultValue:1},{id:"fiber_volume_fraction",label:"Fiber Volume Fraction (pf)",description:"纤维在UHPC中的体积分数",type:"number",defaultValue:.01,step:.01,min:0},{id:"fiber_length",label:"Fiber Length (lf)",description:"纤维的长度",type:"number",defaultValue:13,step:.1,min:0},{id:"fiber_diameter",label:"Fiber Diameter (df)",description:"纤维的直径",type:"number",defaultValue:.2,step:.01,min:0},{id:"fiber_reinforcing_index",label:"Fiber Reinforcing Index (lambda_f)",description:"纤维增强指数，计算公式为 pf\xd7lf/df",type:"number",defaultValue:65,step:.01,min:0}]},{title:"Confinement Stress Parameters",fields:[{id:"confining_stress",label:"Confinement Stress (sigma_n)",description:"约束应力值",type:"number",defaultValue:1,step:.1,min:0},{id:"confining_ratio",label:"Confinement Ratio (sigma_n/fc)",description:"约束应力与抗压强度之比",type:"number",defaultValue:.005,step:.001,min:0}]},{title:"Shear Strength",fields:[{id:"shear_strength",label:"Shear Strength (tau_max)",description:"接缝的最大抗剪强度",type:"number",defaultValue:1421,step:.1,min:0}]}],r={};i.forEach(e=>{e.fields.forEach(e=>{r[e.id]=e.defaultValue})});let[n,d]=(0,a.useState)(r),[o,c]=(0,a.useState)({"Configuration Parameters":!0,"Geometric Parameters":!0,"UHPC Material Properties":!0,"Confinement Stress Parameters":!0,"Shear Strength":!0}),m=(e,t)=>{d(s=>({...s,[e]:t}))},u=e=>{c(t=>({...t,[e]:!t[e]}))};return(0,l.jsxs)("div",{className:"w-full p-4 bg-white rounded-lg shadow-md mt-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Input UHPC Joint Feature Data"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(Object.values(n))},className:"space-y-6",children:[i.map(e=>(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,l.jsxs)("button",{type:"button",className:"w-full px-4 py-3 bg-gray-100 text-left font-semibold text-gray-800 hover:bg-gray-200 flex justify-between items-center",onClick:()=>u(e.title),children:[(0,l.jsx)("span",{children:e.title}),(0,l.jsx)("span",{children:o[e.title]?"▼":"►"})]}),o[e.title]&&(0,l.jsx)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:e.fields.map(e=>(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"block text-gray-800 font-medium",children:e.label}),(0,l.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:e.description}),"select"===e.type?(0,l.jsx)("select",{value:n[e.id],onChange:t=>m(e.id,Number(t.target.value)),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800",children:e.options&&e.options.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,l.jsx)("input",{type:"number",step:e.step||1,min:void 0!==e.min?e.min:void 0,value:n[e.id],onChange:t=>m(e.id,Number(t.target.value)),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800"})]},e.id))})]},e.title)),(0,l.jsx)("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 rounded font-semibold ".concat(s?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:s?"Predicting...":"Start Prediction"})]})]})},n=e=>{let{result:t}=e;if(!t)return null;let{modelName:s,confidence:a,processTime:i,individual_predictions:r,shear_capacity:n}=t;return(0,l.jsxs)("div",{className:"w-full p-6 bg-white rounded-lg shadow-md mt-6 border-t-4 border-blue-500",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Prediction Result"]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("div",{className:"rounded-full bg-blue-100 p-2 mr-3",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Model Information"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-blue-100",children:[(0,l.jsx)("span",{className:"text-gray-700",children:"Model Used:"}),(0,l.jsx)("span",{className:"font-semibold text-blue-800",children:s})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-blue-100",children:[(0,l.jsx)("span",{className:"text-gray-700",children:"Confidence:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2.5 mr-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(100*a,"%")}})}),(0,l.jsxs)("span",{className:"font-semibold text-gray-700",children:[(100*a).toFixed(1),"%"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,l.jsx)("span",{className:"text-gray-700",children:"Processing Time:"}),(0,l.jsx)("span",{className:"font-semibold text-gray-700",children:i})]})]})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("div",{className:"rounded-full bg-green-100 p-2 mr-3",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Prediction Result"})]}),(0,l.jsx)("div",{className:"space-y-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-green-100",children:[(0,l.jsx)("span",{className:"text-gray-700",children:"Shear Capacity:"}),(0,l.jsxs)("span",{className:"font-bold text-green-700",children:[n.toFixed(2)," kN"]})]})})]})]}),(0,l.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("div",{className:"rounded-full bg-gray-200 p-2 mr-3",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Individual Prediction Details"})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prediction No."}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Predicted Value (kN)"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deviation from Average"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((e,t)=>{let s=(e-n)/n*100;return(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Prediction ",t+1]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.toFixed(2)}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,l.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(s>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[s>0?"+":"",s.toFixed(2),"%"]})})]},t)})})]})})]}),(0,l.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-100",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Model Description"}),(0,l.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,l.jsx)("p",{children:"This prediction result is for reference only. The actual shear capacity may be affected by various factors. The final result is derived from the average of multiple predictions."})})]})]})})]})};function d(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)("randomForest"),[o,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[p,x]=(0,a.useState)("");(0,a.useEffect)(()=>{!async function(){try{let e=await fetch("".concat("","/api/models"));if(!e.ok)throw Error("获取模型列表失败");let s=await e.json();t(s)}catch(e){console.error("获取模型时出错:",e),x("无法连接到服务器。请确保后端服务正在运行。")}}()},[]);let h=async e=>{c(!0),x("");try{let t=await fetch("".concat("","/api/predict"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelType:s,features:e})});if(!t.ok)throw Error("预测请求失败");let l=await t.json();u(l)}catch(e){console.error("预测过程中出错:",e),x("预测失败。请稍后再试。")}finally{c(!1)}};return(0,l.jsxs)("main",{className:"min-h-screen p-4 md:p-8 bg-gray-50",children:[(0,l.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,l.jsxs)("header",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"多模型机器学习预测系统"}),(0,l.jsx)("p",{className:"text-gray-600",children:"选择模型、输入特征数据，获取智能预测结果"})]}),p&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:(0,l.jsx)("p",{children:p})}),e.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{models:e,selectedModel:s,onSelectModel:e=>{d(e)}}),(0,l.jsx)(r,{onSubmit:h,isLoading:o}),m&&(0,l.jsx)(n,{result:m}),!1]}):p?null:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"加载模型中..."})]})]}),(0,l.jsx)("footer",{className:"text-center mt-12 py-4 text-sm text-gray-500 border-t",children:(0,l.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," 长沙理工大学 - 李嘉俊"]})})]})}},9325:(e,t,s)=>{Promise.resolve().then(s.bind(s,8483))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9325)),_N_E=e.O()}]);